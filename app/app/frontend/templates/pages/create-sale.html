{% extends 'layouts/base.html' %}


{% block content %}

  <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4">
  </div>
  <div class="row">
    <div class="col-12 col-xl-12">
      <div class="card card-body border-0 shadow mb-4">
        <h2 class="h5 mb-4">Sale information</h2>
          <div class="row"></div>
          <div class="row align-items-center">
            <div class="col-md-6 mb-3">
              <label for="sale-date">Sales Date</label>
              <div class="input-group">
                <span class="input-group-text">
                  <svg class="icon icon-xs" fill="currentColor" viewBox="0 0 20 20"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                      d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"
                      clip-rule="evenodd"></path>
                  </svg>
                </span>
                <input class="form-control" id="sale-date"
                       type="date"
                       value="{{ date_today }}"
                       max="{{ date_today }}"
                  required>
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <label for="payment-method">Payment Method</label>
              <select class="form-select mb-0" id="payment-method" aria-label="Payment Method select">
                <option value="no-payment-method-selected" selected>Payment Method</option>
                <option value="Cash">Cash</option>
                <option value="M-Pesa">M-Pesa</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 mb-3">
                  <label for="customer">Customer Select</label>
                  <div class="input-group">
                      <select class="form-select" id="customer" aria-label="Default Customer Select">
                                  <option selected="">Loading List of Customers...</option>
                      </select>
                  </div>
            </div>
          <div class="col-md-6 mb-3">
              <label for="plan">Plan</label>
              <select class="form-select mb-0" id="plan" aria-label="Plan select">
                <option value="no-plan-selected" selected>Plan</option>
                <option value="Daily">Daily</option>
                <option value="Weekly">Weekly</option>
                <option value="Monthly">Monthly</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 mb-3">
                  <label for="discount">Discount Applied</label>
                  <div class="input-group">
                      <select class="form-select" id="discount" aria-label="Default Discount Select">
                          <option value="no-discount-0%" selected="">No Discount</option>
                          <option value="students-discount-60%">Students Discount (60%)</option>
                          <option value="daily-discount-30%">Daily Discount (30%)</option>
                      </select>
                  </div>
            </div>
            <div id="cash" class="col-md-6 mb-3">
              <div class="form-group">
                <label for="amount-received">Amount Paid</label>
                <input class="form-control" id="amount-received" type="number" placeholder="0.00" required>
              </div>
            </div>
          </div>
        <div class="row">
            <div class="col-md-6 mb-3">
              <div class="form-check">
                  <input class="form-check-input" type="checkbox" checked id="create-attendance-record-for-today">
                  <label class="form-check-label" for="create-attendance-record-for-today">
                    Create Attendance record for today?
                  </label>
              </div>
            </div>
            <div id="m-pesa" style="display: none;" class="col-md-6 mb-3">
                  <label for="transaction-ref">M-pesa Transaction</label>
                  <div class="input-group">
                      <select class="form-select" id="transaction-ref" aria-label="Transaction Select">
                          <option value="no-transaction-selected" selected="">Select an M-Pesa Transaction</option>
                      </select>
                  </div>
            </div>

          </div>
          <div class="row">
            <div class="col-md-6 mb-3">
              <div class="form-check">
                  <input class="form-check-input" type="checkbox" value="" id="are-you-sure">
                  <label class="form-check-label" for="are-you-sure">
                    Are you sure?
                  </label>
              </div>
            </div>
          </div>
          <div class="mt-3">
            <button id="btn-submit" class="btn btn-gray-800 mt-2 animate-up-2" type="submit">Save</button>
          </div>
          <div id="error-message" class="text-danger mb-3" style="display: none;"></div>
          <div id="success-message" class="text-success mb-3" style="display: none;"></div>
      </div>
    </div>
  </div>

<div class="card card-body border-0 shadow table-wrapper table-responsive">
    <table id="tbl-sales-by-customer" class="table table-hover">
      <thead>
        <tr>
          <th class="border-gray-200">#</th>
          <th class="border-gray-200">Customer Name</th>
          <th class="border-gray-200">Amount Received</th>
          <th class="border-gray-200">Plan</th>
          <th class="border-gray-200">Discount</th>
          <th class="border-gray-200">Payment Method</th>
          <th class="border-gray-200">Added By</th>
          <th class="border-gray-200">Transaction Date</th>
        </tr>
      </thead>
      <tbody>
        <!-- Item -->
        <tr>
          <td class="text-center align-middle" colspan="7">
            <span class="text-success">Select a customer to fetch the Sales Transactions.</span>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="card-footer px-3 border-0 d-flex flex-column flex-lg-row align-items-center justify-content-between">
      <nav aria-label="Page navigation example">
        <ul class="pagination mb-0">
          <li class="page-item">
            <a class="page-link" href="#">Previous</a>
          </li>
          <li class="page-item active">
            <a class="page-link" href="#">1</a>
          </li>
          <li class="page-item">
            <a class="page-link" href="#">2</a>
          </li>
          <li class="page-item">
            <a class="page-link" href="#">3</a>
          </li>
          <li class="page-item">
            <a class="page-link" href="#">4</a>
          </li>
          <li class="page-item">
            <a class="page-link" href="#">5</a>
          </li>
          <li class="page-item">
            <a class="page-link" href="#">Next</a>
          </li>
        </ul>
      </nav>
      <div class="fw-normal small mt-4 mt-lg-0">Showing <b><span id="no-of-records">0</span></b> out of <b><span id="total-no-of-records">0</span></b> entries</div>
    </div>
  </div>


{% endblock content %}

{% block extra_js %}

<script src="/static/assets/js/create-sale.js"></script>
<script src="/static/assets/js/fxn-get-list-of-customers.js"></script>

{% endblock extra_js %}